# render-live.yaml
# NEW render service for Telegram live scraping
# This is SEPARATE from your existing render.yaml

services:
  - type: cron
    name: telegram-live-scraper
    env: docker
    plan: free  # Can use free tier for cron jobs!
    schedule: "*/10 * * * *"  # Every 10 minutes
    dockerContext: .
    
    # Use gradlew instead of gradle
    buildCommand: ./gradlew build --no-daemon
    
    # Use the telegram command
    startCommand: ./gradlew runTelegram --no-daemon
    
    # Environment variables for Telegram
    envVars:
      - key: GITHUB_TOKEN
        sync: false  # Reuse your existing token
      - key: OPENAI_API_KEY
        sync: false  # Reuse your existing key
      
    # Keep it running always
    autoDeploy: true